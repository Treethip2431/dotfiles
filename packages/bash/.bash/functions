#!/bin/bash
##---------------------------------------------------------#
## ~/.bash/functions
##
## @author     William Norris <will@willnorris.com>
##---------------------------------------------------------#

function setPS1
{
	[ -z "${PS1}" ] && PS1="\w\\$"
	PS1="${PS1COLOR}${PS1}\[\033[0m\] "

	# add information to titlebar if using xterm
	if [ -z "${PS1_NO_TITLEBAR}" ]; then
		case $TERM in
			xterm*)
				local PS1_TITLEBAR='\[\033]0;\u@\h:\w\007\]'
				;;
			*)
				local PS1_TITLEBAR=''
				;;
		esac
	fi

	export PS1="${PS1_TITLEBAR}${PS1}"
}


function setAppHome
{
	[ -n "$1" ] && [ -n "$2" ] && [ -d $2 ] && {
		export `echo $1 | awk '{ print toupper($1) }'`_HOME="$2"
		addToPath "$2/bin"
		addToPath "$2/sbin"

		addToManPath "$2/man"
		addToManPath "$2/share/man"
	}
}


function addToPath
{
	[ -d $1 ] && [ ! `echo $PATH | egrep "(^|:)$1(:|$)"` ] && PATH="$1:$PATH"
}
function addToManPath
{
	[ -d $1 ] && [ ! `echo $MANPATH | egrep "(^|:)$1(:|$)"` ] && MANPATH="$1:$MANPATH"
}
function addToLibPath
{
	[ -d $1 ] && [ ! `echo $LD_LIBRARY_PATH | egrep "(^|:)$1(:|$)"` ] && LD_LIBRARY_PATH="$1:$LD_LIBRARY_PATH"
}

function sdr
{
	if [ -z "$@" ]; then
		screen -U -D -R
	else
		screen -U -D -R $@
	fi
}

#function getConnectingHost
#{
#	foo=`tty | sed "s/\/dev\///"` && who | grep -E "\W$foo\W" | sed -r "s/.*\((.*)\)/\1/"
#}

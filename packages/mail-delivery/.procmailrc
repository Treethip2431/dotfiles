MAILDIR=$HOME/Maildir

SHELL=/bin/sh

# --- Logging --- #
LOGFILE=$HOME/local/var/log/procmail.log
VERBOSE=no
#ABSTRACT=no

SPAMLOG=$HOME/local/var/log/spam.log


# --- Mailing Lists --- #

:0
* ^List-Id: .*cocoa-dev\.lists\.apple\.com.*
.MailingLists.apple.cocoa-dev/

:0
* ^List-Id: .*faculty\.lists\.visibleschool.com.*
.MailingLists.vsStaff/

:0
* ^List-Id: .*moneydance-dev\.moneydance.com.*
.MailingLists.moneydance/

:0
* ^List-Id: .*.jadmin\.jabber\.org.*
.MailingLists.jabber.jadmin/

:0
* ^List-Id: .*google-apps-apis\.googlegroups\.com.*
.MailingLists.google-apps-api/

:0
* ^List-Id: .*dev\.lists\.openidenabled\.com.*
.MailingLists.openid.openIdEnabled-Dev/

:0
* ^List-Id: .*yadis\.lists\.danga\.com.*
.MailingLists.openid.openid-general/

:0
* ^List-Id: .*general\.openid\.net.*
.MailingLists.openid.openid-general/

:0
* ^List-Id: .*board\.openid\.net.*
.MailingLists.openid.openid-board/

:0
* ^List-Id: .*legal\.openid\.net.*
.MailingLists.openid.openid-legal/

:0
* ^List-Id: .*claimid-users\.lists\.claimid\.com.*
.MailingLists.openid.claimid-users/

:0
* ^List-Id: .*microid\.lists\.ibiblio\.org.*
.MailingLists.openid.microid/

:0
* ^List-Id: .*barcamp\.googlegroups\.com.*
.MailingLists.barcamp/

:0
* ^List-Id: .*barcampla\.googlegroups\.com.*
.MailingLists.barcamp/

:0
* ^List-Id: .*wp-hackers\.lists\.automattic\.com.*
* !^X-List-Administrivia: yes
.MailingLists.wp-hackers/

:0
* ^TO_users@subversion\.tigris\.org
.MailingLists.subversion-users/

:0
* ^List-Id: .*users\.tapestry\.apache\.org.*
.MailingLists.tapestry-users/

:0
* ^List-Id: .*heraldry-dev\.incubator\.apache\.org.*
.MailingLists.heraldry-dev/

# --- Internet2 Mailing Lists --- #
:0
* ^List-Id: .*grouper-dev\.internet2\.edu.*
.MailingLists.grouper-dev/

:0
* ^List-Id: .*grouper-users\.internet2\.edu.*
.MailingLists.grouper-users/

:0
* ^List-Id: .*mace-dir\.internet2\.edu.*
.MailingLists.mace-dir/

:0
* ^List-Id: .*nexus-users\.internet2\.edu.*
.MailingLists.nexus-users/

:0
* ^List-Id: .*mace-opensaml-users\.internet2\.edu.*
.MailingLists.opensaml-users/

:0
* ^List-Id: .*shib-repository\.internet2\.edu.*
{
	:0
	* ^Subject: \[cpp-.* COMMIT\]
	.MailingLists.shib-repository.cpp/

	:0
	* ^Subject: \[java-idp COMMIT\]
	.MailingLists.shib-repository.java-idp/

	:0
	* ^Subject: \[java-opensaml2 COMMIT\]
	.MailingLists.shib-repository.java-opensaml2/

	:0
	* ^Subject: \[java-openws COMMIT\]
	.MailingLists.shib-repository.java-openws/

	:0
	* ^Subject: \[java-shib-common COMMIT\]
	.MailingLists.shib-repository.java-shib-common/

	:0
	* ^Subject: \[java-sp COMMIT\]
	.MailingLists.shib-repository.java-sp/

	:0
	* ^Subject: \[java-xmltooling COMMIT\]
	.MailingLists.shib-repository.java-xmltooling/

	:0
	* ^Subject: \[java-wayf COMMIT\]
	.MailingLists.shib-repository.java-wayf/

	:0
	.MailingLists.shib-repository/
}


:0
* ^List-Id: .*shibboleth-core\.internet2\.edu.*
.MailingLists.shibboleth-core/

:0
* ^List-Id: .*shibboleth-dev\.internet2\.edu.*
.MailingLists.shibboleth-dev/

:0
* ^List-Id: .*shibboleth-users\.internet2\.edu.*
.MailingLists.shibboleth-users/

:0
* ^List-Id: .*signet-dev\.internet2\.edu.*
.MailingLists.signet-dev/

:0
* ^List-Id: .*signet-users\.internet2\.edu.*
.MailingLists.signet-users/

:0
* ^List-Id: .*incommon-participants\.incommonfederation\.org.*
.MailingLists.incommon.participants/


# keep this rule last so as not to accidentally scoop up cross-listed messages
:0
* ^TO_idm@listserv.educause.edu
.MailingLists.educause-idm/



# --- UofM spam --- #
:0
* ^TO_all_faculty_staff(_students)?@memphis\.edu
/dev/null

:0
* ^TO_all_non-faculty_employees@memphis\.edu
/dev/null

# --- USC Filters --- #
#:0B
#* ^Subject: .*MSG: (Start|End) of process - \(\./ds_sync.*\.pl\)
#:0
#* ^message-id: <.*@gds-ldap1\.usc\.edu>
#.USC.cron.ds_sync/

:0
* ^Subject: .*ECS dbbackups.*
.USC.cron.dbbackups/

:0
* ^Subject: .*rsync for gds-ldap.*
.USC.cron.rsync/

:0
* ^TO_uscmacusers@(usc\.edu|mac\.com)
.MailingLists.usc-mug/

:0
* ^X-Shibboleth-Status: up
.USC.cron.shibboleth-status/

:0
* ^Received: .*shib-discuss-l@listproc.usc.edu.*
.MailingLists.usc-shib-discuss/

#:0
#* ^TO_wnorris@skat.usc.edu
#* ^Subject: Couldn't run your "cron" job
#/dev/null


# --- Visible School virus scanner --- #
:0
* ^From: .*virusalert@visibleschool.com.*
/dev/null


# --- Filter everything else through Spamassassin --- #
:0fw: spamassassin.lock
| $HOME/local/bin/spamassassin


# Log spam statistics for all messages
#:0c: logspam.lock
#| $HOME/local/bin/logspam


# Obvious Junk ( >= 10.0) -- send to /dev/null
:0
* ^X-Spam-Level: \*\*\*\*\*\*\*\*\*\*
/dev/null


# Likely Junk ( >= 5.0) -- deliver to Junk folder
:0
* ^X-Spam-Level: \*\*\*\*\*
.Junk/


# --- catch all for inbox --- #
:0
$HOME/Maildir/
